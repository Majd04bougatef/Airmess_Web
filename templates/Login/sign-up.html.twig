<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S'enregistrer - Airmess</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
<style>
        body {
            background: linear-gradient(135deg, #7589ff 0%, #ff9db4 100%);
            font-family: Arial, sans-serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0;
            padding: 20px;
        }
        
        .signup-container {
            background: white;
            border-radius: 50px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            overflow: hidden;
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
            padding: 30px;
            position: relative;
        }
        
        .logo {
            max-width: 60px;
            margin-bottom: 20px;
        }
        
        .form-title {
            font-size: 40px;
            color: #406dab;
            margin-bottom: 30px;
            font-weight: bold;
    text-align: center;
        }
        
        .form-control {
            border-radius: 10px;
            padding: 12px 15px;
            border: 1px solid #e0e0e0;
            margin-bottom: 20px;
            background-color: #f8f9fa;
        }
        
        .form-control:focus {
            box-shadow: 0 0 0 0.2rem rgba(123, 137, 255, 0.25);
            border-color: #7b89ff;
        }
        
        .btn-tab {
            border-radius: 10px;
            border: none;
            padding: 12px 20px;
            font-weight: 600;
            background-color: #f8f9fa;
            color: #555;
            margin-right: 10px;
            transition: all 0.3s;
        }
        
        .btn-tab.active {
            background-color: #7b89ff;
            color: white;
        }
        
        .btn-register {
            background: linear-gradient(135deg, #7589ff 0%, #ff9db4 100%);
    border: none;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            padding: 12px 15px;
            width: 100%;
            margin-top: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-register:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .btn-photo {
            background-color: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            padding: 12px 20px;
            width: 100%;
            text-align: center;
    cursor: pointer;
            margin-bottom: 20px;
        }
        
        .back-btn {
            background-color: #db7093;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            text-decoration: none;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        
        .back-btn:hover {
            background-color: #c8637f;
            color: white;
            text-decoration: none;
        }
        
        .tab-content {
            margin-top: 20px;
        }
        
        /* Hide date placeholder text when focused or filled */
        input[type="date"]:not(:placeholder-shown),
        input[type="date"]:focus {
            color: #495057;
        }
        
        .custom-file {
            position: relative;
        }
        
        .custom-file-input {
            cursor: pointer;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            opacity: 0;
            z-index: 5;
        }
        
        .photo-btn {
            display: block;
            width: 60%;
            max-width: 200px;
            background: linear-gradient(135deg, #7589ff 0%, #ff9db4 100%);
    border: none;
            border-radius: 50px;
            padding: 10px 12px;
    color: #fff;
            text-align: center;
            cursor: pointer;
    font-weight: 600;
            transition: all 0.3s;
            margin: 0 auto;
        }
        
        .photo-btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .password-field-container {
            position: relative;
        }
        
        .password-toggle-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
    cursor: pointer;
            color: #9c9898;
        }
        
        .photo-preview {
            width: 150px;
            height: 150px;
            border-radius: 10px;
            background-color: #f0f5f9;
            display: none;
            background-size: cover;
            background-position: center center;
            margin: 15px auto;
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
            border: 2px solid #a1c4fd;
        }
        
        .photo-upload-container {
            margin-bottom: 20px;
        }
        
        .form-group {
            position: relative;
            margin-bottom: 25px;
        }
        
        .field-error {
            color: #dc3545;
            font-size: 0.85rem;
            margin-top: 5px;
            display: none;
            background-color: #f8d7da;
            border-radius: 5px;
            padding: 5px 10px;
        }
        
        .form-control.is-invalid {
            border-color: #dc3545;
            padding-right: 2.25rem;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right calc(0.375em + 0.1875rem) center;
            background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
        }
        
        .form-control.is-valid {
            border-color: #28a745;
            padding-right: 2.25rem;
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right calc(0.375em + 0.1875rem) center;
            background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
        }
        
        .photo-btn.is-invalid {
            border: 1px solid #dc3545;
            box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
        }
        
        .photo-btn.is-valid {
            border: 1px solid #28a745;
            box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
        }
        
        #photo-error {
            text-align: center;
            margin-top: 10px;
        }
</style>
</head>
<body>
    <div class="signup-container">
                <div class="row">
            <div class="col-12">
                <div class="d-flex align-items-center justify-content-between mb-3">
                    <img src="{{ asset('assets/images/logo-airmess.png') }}" alt="Airmess Logo" class="logo">
                    <a href="{{ path('login') }}" class="back-btn">
                        <span>&larr;</span>
                    </a>
                    </div>
                <h1 class="form-title">S'enregistrer</h1>

                <ul class="nav nav-tabs mb-4" id="myTab" role="tablist">
                            <li class="nav-item">
                        <a class="nav-link active btn-tab" id="voyageur-tab" data-toggle="tab" href="#voyageur" role="tab" aria-controls="voyageur" aria-selected="true">voyageur</a>
                            </li>
                            <li class="nav-item">
                        <a class="nav-link btn-tab" id="entreprise-tab" data-toggle="tab" href="#entreprise" role="tab" aria-controls="entreprise" aria-selected="false">entreprise</a>
                            </li>
                        </ul>
                
                        <div class="tab-content" id="myTabContent">
                    <!-- Flash Messages -->
                    {% for flash_message in app.flashes('success') %}
                        <div class="alert alert-success">
                            {{ flash_message }}
                        </div>
                    {% endfor %}
                    
                    {% for flash_message in app.flashes('error') %}
                        <div class="alert alert-danger">
                            {{ flash_message }}
                        </div>
                    {% endfor %}
                    
                    <!-- Voyageur Tab -->
                    <div class="tab-pane fade show active" id="voyageur" role="tabpanel" aria-labelledby="voyageur-tab">
                        <form id="form-voyageur" action="{{ path('app_register') }}" method="post" enctype="multipart/form-data" novalidate>
                            <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                        <input type="text" class="form-control" name="name" placeholder="Nom" value="">
                                        </div>
                                        <div class="form-group">
                                        <input type="text" class="form-control" name="prenom" placeholder="Prénom" value="">
                                        </div>
                                        <div class="form-group">
                                        <input type="email" class="form-control" name="email" placeholder="Email" value="">
                                    </div>
                                        </div>
                                <div class="col-md-6">
                                        <div class="form-group">
                                        <input type="text" class="form-control" name="phoneNumber" placeholder="Numéro de téléphone" value="" minlength="8" maxlength="8">
                                        </div>
                                        <div class="form-group">
                                        <div class="password-field-container">
                                            <input type="password" class="form-control password-field" name="password" placeholder="Mot de passe" value="">
                                            <i class="password-toggle-icon fa fa-eye-slash" data-target="password"></i>
                                        </div>
                                    </div>
                                        <div class="form-group">
                                        <div class="password-field-container">
                                            <input type="password" class="form-control password-field" name="password_confirm" placeholder="Confirmer le mot de passe" value="">
                                            <i class="password-toggle-icon fa fa-eye-slash" data-target="password_confirm"></i>
                                        </div>
                                        </div>
                                        <div class="form-group">
                                        <input type="date" class="form-control" name="dateNaiss" placeholder="Date de naissance">
                                    </div>
                                        </div>
                                <div class="col-12">
                                    <div class="photo-upload-container text-center">
                                        <div id="voyageurPhotoPreview" class="photo-preview"></div>
                                        <div class="custom-file">
                                            <input class="custom-file-input" type="file" id="photo-voyageur" name="photo" accept="image/*">
                                            <button type="button" class="photo-btn">Ajouter une photo</button>
                                        </div>
                                        <div id="photo-error" class="field-error"></div>
                                    </div>
                                </div>
                                
                                <div class="col-12">
                                    <input type="hidden" name="roleUser" value="Voyageurs">
                                    <input type="hidden" name="statut" value="active">
                                    <input type="hidden" name="diamond" value="0">
                                    <input type="hidden" name="deleteFlag" value="0">
                                    <button type="submit" class="btn-register" id="voyageur-submit">S'enregistrer</button>
                                </div>
                            </div>
                        </form>
                    </div>
                    
                    <!-- Entreprise Tab -->
                    <div class="tab-pane fade" id="entreprise" role="tabpanel" aria-labelledby="entreprise-tab">
                        <form id="form-entreprise" action="{{ path('app_register') }}" method="post" enctype="multipart/form-data" novalidate>
                            <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                        <input type="text" class="form-control" name="name" placeholder="Nom de l'entreprise" value="">
                                        </div>
                                        <div class="form-group">
                                        <input type="email" class="form-control" name="email" placeholder="Email professionnel" value="">
                                    </div>
                                        </div>
                                <div class="col-md-6">
                                        <div class="form-group">
                                        <input type="text" class="form-control" name="phoneNumber" placeholder="Numéro de téléphone" value="" minlength="8" maxlength="8">
                                        </div>
                                        <div class="form-group">
                                        <div class="password-field-container">
                                            <input type="password" class="form-control password-field" name="password" placeholder="Mot de passe" value="">
                                            <i class="password-toggle-icon fa fa-eye-slash" data-target="password"></i>
                                        </div>
                                    </div>
                                        <div class="form-group">
                                        <div class="password-field-container">
                                            <input type="password" class="form-control password-field" name="password_confirm" placeholder="Confirmer le mot de passe" value="">
                                            <i class="password-toggle-icon fa fa-eye-slash" data-target="password_confirm"></i>
                                        </div>
                                        </div>
                                        </div>
                                <div class="col-12">
                                    <div class="photo-upload-container text-center">
                                        <div id="entreprisePhotoPreview" class="photo-preview"></div>
                                        <div class="custom-file">
                                            <input class="custom-file-input" type="file" id="photo-entreprise" name="photo" accept="image/*">
                                            <button type="button" class="photo-btn">Ajouter une photo</button>
                                        </div>
                                        <div id="photo-error" class="field-error"></div>
                                    </div>
                                </div>
                                
                                <div class="col-12">
                                    <input type="hidden" name="roleUser" value="Entreprise">
                                    <input type="hidden" name="statut" value="active">
                                    <input type="hidden" name="diamond" value="0">
                                    <input type="hidden" name="deleteFlag" value="0">
                                    <button type="submit" class="btn-register" id="entreprise-submit">S'enregistrer</button>
                                </div>
                            </div>
                        </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            <script type="text/javascript">
        /* 
        function onRecaptchaVoyageurCompleted(response) {
            document.getElementById('g-recaptcha-response-v').value = response;
            // Enable submit button
            $('#voyageur-submit').prop('disabled', false);
        }
        
        function onRecaptchaEntrepriseCompleted(response) {
            document.getElementById('g-recaptcha-response-e').value = response;
            // Enable submit button
            $('#entreprise-submit').prop('disabled', false);
        }
        */
        
        /* 
        // For reCAPTCHA v3
        function onRecaptchaLoad() {
            // Handle voyageur form
            $('#voyageur-show-captcha').click(function() {
                $('#voyageur-captcha').show();
                grecaptcha.ready(function() {
                    grecaptcha.execute('REMOVED-KEY', {action: 'voyageur_signup'}).then(function(token) {
                        document.getElementById('g-recaptcha-response-v').value = token;
                        $('#voyageur-submit').show();
                    });
                });
            });
            
            // Handle entreprise form
            $('#entreprise-show-captcha').click(function() {
                $('#entreprise-captcha').show();
                grecaptcha.ready(function() {
                    grecaptcha.execute('REMOVED-KEY', {action: 'entreprise_signup'}).then(function(token) {
                        document.getElementById('g-recaptcha-response-e').value = token;
                        $('#entreprise-submit').show();
                    });
                });
            });
        }
        */
        
        // Handle file selection and preview
        $('.custom-file-input').on('change', function() {
            // Only show image preview
            const fileInput = this;
            
            if (fileInput.files && fileInput.files[0]) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    const form = $(fileInput).closest('form');
                    const photoPreview = form.find('.photo-preview');
                    
                    photoPreview.css({
                        'display': 'block',
                        'background-image': 'url(' + e.target.result + ')'
                    });
                    
                    // Hide photo error if shown
                    form.find('.photo-upload-container .field-error').hide();
                }
                
                reader.readAsDataURL(fileInput.files[0]);
            }
        });
        
        // Tab switching functionality
        $(document).ready(function() {
            // Add error containers after all form fields
            $('.form-group').each(function() {
                // Skip if it already has an error container
                if ($(this).find('.field-error').length === 0) {
                    let input = $(this).find('input').first();
                    let errorId = input.attr('name') + '-error';
                    $(this).append('<div id="' + errorId + '" class="field-error"></div>');
                }
            });
            
            // Show the correct form tab
            $("#voyageur-tab").click(function() {
                $(this).addClass("active");
                $("#entreprise-tab").removeClass("active");
                $("#voyageur").addClass("show active");
                $("#entreprise").removeClass("show active");
            });
            
            $("#entreprise-tab").click(function() {
                $(this).addClass("active");
                $("#voyageur-tab").removeClass("active");
                $("#entreprise").addClass("show active");
                $("#voyageur").removeClass("show active");
            });
            
            // Toggle password visibility
            $(".password-toggle-icon").click(function() {
                const passwordField = $(this).siblings('input');
                const fieldType = passwordField.attr('type');
                
                if (fieldType === 'password') {
                    passwordField.attr('type', 'text');
                    $(this).removeClass('fa-eye-slash').addClass('fa-eye');
                } else {
                    passwordField.attr('type', 'password');
                    $(this).removeClass('fa-eye').addClass('fa-eye-slash');
                }
            });
            
            // Make the photo button trigger the file input
            $(".photo-btn").click(function() {
                $(this).siblings('.custom-file-input').click();
            });
            
            // File input handling with preview
            $(".custom-file-input").change(function() {
                const file = this.files[0];
                if (file) {
                    const reader = new FileReader();
                    const photoPreview = $(this).closest('.custom-file').siblings('.photo-preview');
                    
                    reader.onload = function(e) {
                        photoPreview.css('background-image', 'url(' + e.target.result + ')');
                        photoPreview.css('display', 'block');
                    }
                    
                    reader.readAsDataURL(file);
                }
                // Validate photo on change
                validatePhoto($(this));
            });
            
            // Helper function to calculate age from date
            function calculateAge(birthDate) {
                const today = new Date();
                let age = today.getFullYear() - birthDate.getFullYear();
                const monthDiff = today.getMonth() - birthDate.getMonth();
                
                if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birthDate.getDate())) {
                    age--;
                }
                
                return age;
            }
            
            // Helper function to show field error
            function showFieldError(field, message) {
                const errorElement = $('#' + field + '-error');
                errorElement.text(message).show();
                $('input[name="' + field + '"]').addClass('is-invalid').removeClass('is-valid');
            }
            
            // Helper function to clear field error
            function clearFieldError(field) {
                $('#' + field + '-error').hide();
                $('input[name="' + field + '"]').removeClass('is-invalid').addClass('is-valid');
            }
            
            // Real-time validation functions
            function validateName(input) {
                const name = input.val().trim();
                if (name.length < 2) {
                    showFieldError('name', 'Le nom doit faire au moins 2 caractères');
                    return false;
                } else if (name.length > 50) {
                    showFieldError('name', 'Le nom ne peut pas dépasser 50 caractères');
                    return false;
                } else {
                    clearFieldError('name');
                    return true;
                }
            }
            
            function validatePrenom(input) {
                const prenom = input.val().trim();
                if (prenom.length > 0 && prenom.length < 2) {
                    showFieldError('prenom', 'Le prénom doit faire au moins 2 caractères');
                    return false;
                } else if (prenom.length > 50) {
                    showFieldError('prenom', 'Le prénom ne peut pas dépasser 50 caractères');
                    return false;
                } else {
                    clearFieldError('prenom');
                    return true;
                }
            }
            
            function validateEmail(input) {
                const email = input.val().trim();
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!email) {
                    showFieldError('email', 'L\'email est obligatoire');
                    return false;
                } else if (!emailRegex.test(email)) {
                    showFieldError('email', 'L\'email n\'est pas valide');
                    return false;
                } else if (email.length > 180) {
                    showFieldError('email', 'L\'email ne peut pas dépasser 180 caractères');
                    return false;
                } else {
                    clearFieldError('email');
                    return true;
                }
            }
            
            function validatePhone(input) {
                const phone = input.val().trim();
                const phoneRegex = /^[0-9]{8}$/;
                if (!phone) {
                    showFieldError('phoneNumber', 'Le numéro de téléphone est obligatoire');
                    return false;
                } else if (!phoneRegex.test(phone)) {
                    showFieldError('phoneNumber', 'Le numéro de téléphone doit contenir exactement 8 chiffres');
                    return false;
                } else {
                    clearFieldError('phoneNumber');
                    return true;
                }
            }
            
            function validatePassword(input) {
                const password = input.val();
                if (!password) {
                    showFieldError('password', 'Le mot de passe est obligatoire');
                    return false;
                } else if (password.length < 6) {
                    showFieldError('password', 'Le mot de passe doit faire au moins 6 caractères');
                    return false;
                } else {
                    clearFieldError('password');
                    return true;
                }
            }
            
            function validatePasswordConfirm(input, passwordField) {
                const confirmPassword = input.val();
                const password = passwordField.val();
                
                if (confirmPassword !== password) {
                    showFieldError('password_confirm', 'Les mots de passe ne correspondent pas');
                    return false;
                } else {
                    clearFieldError('password_confirm');
                    return true;
                }
            }
            
            function validateDate(input) {
                const dateStr = input.val();
                if (!dateStr && input.closest('#voyageur').length > 0) {
                    showFieldError('dateNaiss', 'La date de naissance est obligatoire pour les voyageurs');
                    return false;
                } else if (dateStr) {
                    const birthDate = new Date(dateStr);
                    const age = calculateAge(birthDate);
                    
                    if (age < 15) {
                        showFieldError('dateNaiss', 'Vous devez avoir au moins 15 ans pour vous inscrire');
                        return false;
                    } else {
                        clearFieldError('dateNaiss');
                        return true;
                    }
                } else {
                    clearFieldError('dateNaiss');
                    return true;
                }
            }
            
            function validatePhoto(input) {
                const photoInput = input[0];
                const form = $(input).closest('form');
                const errorElement = form.find('#photo-error');
                const photoBtn = form.find('.photo-btn');
                
                if (!photoInput || !photoInput.files || photoInput.files.length === 0) {
                    errorElement.text('Une photo est obligatoire').show();
                    photoBtn.addClass('is-invalid').removeClass('is-valid');
                    return false;
                } else {
                    errorElement.hide();
                    photoBtn.removeClass('is-invalid').addClass('is-valid');
                    return true;
                }
            }
            
            // Attach real-time validation to form fields
            $('input[name="name"]').on('input blur', function() {
                validateName($(this));
            });
            
            $('input[name="prenom"]').on('input blur', function() {
                validatePrenom($(this));
            });
            
            $('input[name="email"]').on('input blur', function() {
                validateEmail($(this));
            });
            
            $('input[name="phoneNumber"]').on('input blur', function() {
                validatePhone($(this));
            });
            
            $('input[name="password"]').on('input blur', function() {
                validatePassword($(this));
                // Also validate confirmation if it has a value
                const confirmField = $(this).closest('form').find('input[name="password_confirm"]');
                if (confirmField.val()) {
                    validatePasswordConfirm(confirmField, $(this));
                }
            });
            
            $('input[name="password_confirm"]').on('input blur', function() {
                const passwordField = $(this).closest('form').find('input[name="password"]');
                validatePasswordConfirm($(this), passwordField);
            });
            
            $('input[name="dateNaiss"]').on('change blur', function() {
                validateDate($(this));
            });
            
            // Validate form submission
            /*
            $('#form-voyageur').on('submit', function(e) {
                // Validate captcha
                const captchaResponse = grecaptcha.getResponse();
                if (!captchaResponse) {
                    showFieldError('captcha-v', 'Please check the reCAPTCHA box');
                    e.preventDefault();
                }
            });
            
            $('#form-entreprise').on('submit', function(e) {
                // Validate captcha
                const captchaResponse = grecaptcha.getResponse(1); // second widget
                if (!captchaResponse) {
                    showFieldError('captcha-e', 'Please check the reCAPTCHA box');
                    e.preventDefault();
                }
            });
            */
            
            // Show captcha buttons click handlers
            /*
            $('#voyageur-show-captcha').click(function() {
                let isValid = true;
                
                // Run all validations
                const nameField = $('#form-voyageur').find('input[name="name"]');
                if (nameField.length) {
                    isValid = validateName(nameField) && isValid;
                }
                
                const prenomField = $('#form-voyageur').find('input[name="prenom"]');
                if (prenomField.length) {
                    isValid = validatePrenom(prenomField) && isValid;
                }
                
                const emailField = $('#form-voyageur').find('input[name="email"]');
                if (emailField.length) {
                    isValid = validateEmail(emailField) && isValid;
                }
                
                const phoneField = $('#form-voyageur').find('input[name="phoneNumber"]');
                if (phoneField.length) {
                    isValid = validatePhone(phoneField) && isValid;
                }
                
                const passwordField = $('#form-voyageur').find('input[name="password"]');
                if (passwordField.length) {
                    isValid = validatePassword(passwordField) && isValid;
                }
                
                const confirmField = $('#form-voyageur').find('input[name="password_confirm"]');
                if (confirmField.length) {
                    isValid = validatePasswordConfirm(confirmField, passwordField) && isValid;
                }
                
                const dateField = $('#form-voyageur').find('input[name="dateNaiss"]');
                if (dateField.length) {
                    isValid = validateDate(dateField) && isValid;
                }
                
                const photoInput = $('#form-voyageur').find('input[type="file"]');
                isValid = validatePhoto(photoInput) && isValid;
                
                if (isValid) {
                    // Show captcha and submit button
                    $('#voyageur-captcha').show();
                    $('#voyageur-show-captcha').hide();
                    $('#voyageur-submit').show().prop('disabled', true);
                }
            });
            
            $('#entreprise-show-captcha').click(function() {
                let isValid = true;
                
                // Run all validations
                const nameField = $('#form-entreprise').find('input[name="name"]');
                if (nameField.length) {
                    isValid = validateName(nameField) && isValid;
                }
                
                const emailField = $('#form-entreprise').find('input[name="email"]');
                if (emailField.length) {
                    isValid = validateEmail(emailField) && isValid;
                }
                
                const phoneField = $('#form-entreprise').find('input[name="phoneNumber"]');
                if (phoneField.length) {
                    isValid = validatePhone(phoneField) && isValid;
                }
                
                const passwordField = $('#form-entreprise').find('input[name="password"]');
                if (passwordField.length) {
                    isValid = validatePassword(passwordField) && isValid;
                }
                
                const confirmField = $('#form-entreprise').find('input[name="password_confirm"]');
                if (confirmField.length) {
                    isValid = validatePasswordConfirm(confirmField, passwordField) && isValid;
                }
                
                const photoInput = $('#form-entreprise').find('input[type="file"]');
                isValid = validatePhoto(photoInput) && isValid;
                
                if (isValid) {
                    // Show captcha and submit button
                    $('#entreprise-captcha').show();
                    $('#entreprise-show-captcha').hide();
                    $('#entreprise-submit').show().prop('disabled', true);
                }
            });
            */
        });
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
            </body>
            </html>