{% for user in users %}
<tr>
  <td class="user-info-cell">
    <div class="d-flex px-2 py-1">
      <div>
        <img src="{{ path('app_profile_image', {'filename': user.imagesU }) }}" 
             class="avatar avatar-sm me-3"
             alt="{{ user.name }}" 
             onerror="this.src='{{ asset('images/user-avatar.svg') }}'">
        {% if user.isOnline %}
        <span class="online-indicator online-yes" title="En ligne"></span>
        {% else %}
        <span class="online-indicator online-no" title="Hors ligne"></span>
        {% endif %}
      </div>
      <div class="d-flex flex-column justify-content-center">
        <h6 class="mb-0 text-sm user-name">{{ user.name }} {{ user.prenom }}</h6>
        <p class="text-xs text-secondary mb-0">{{ user.email }}</p>
        {% if user.lastActivity %}
        <p class="last-activity">
          Dernière activité: {{ user.lastActivity|date("d/m/Y H:i") }}
        </p>
        {% endif %}
      </div>
    </div>
  </td>
  <td>
    <p class="text-xs font-weight-bold mb-0">{{ user.roleUser }}</p>
  </td>
  <td class="align-middle text-center text-sm">
    {% if user.statut == 'actif' or user.statut == 'active' %}
      <span class="badge badge-sm bg-gradient-success">Actif</span>
    {% elseif user.statut == 'inactif' or user.statut == 'inactive' %}
      <span class="badge badge-sm bg-gradient-danger">Inactif</span>
    {% else %}
      <span class="badge badge-sm bg-gradient-warning">{{ user.statut }}</span>
    {% endif %}
  </td>
  <td class="align-middle text-center">
    <span class="text-secondary text-xs font-weight-bold">{{ user.dateNaiss|date("d/m/Y") }}</span>
  </td>
  <td class="align-middle text-center">
    <span class="text-secondary text-xs font-weight-bold">{{ user.phoneNumber }}</span>
  </td>
  <td class="align-middle">
    <div class="user-actions-container">
      <button class="btn btn-link text-warning user-action-btn px-2 mb-0" data-bs-toggle="modal" data-bs-target="#editUserModal{{ user.idU }}">
        <i class="fas fa-edit me-2"></i>Modifier
      </button>
      <button class="btn btn-link text-danger user-action-btn px-2 mb-0" onclick="confirmDelete({{ user.idU }})">
        <i class="fas fa-trash me-2"></i>Supprimer
      </button>
    </div>
  </td>
</tr>
{% else %}
<tr>
  <td colspan="6" class="text-center py-4">
    <i class="fas fa-search me-2"></i> Aucun utilisateur ne correspond à vos critères de recherche
  </td>
</tr>
{% endfor %} 