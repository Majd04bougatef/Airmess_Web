{% for user in users %}
<tr>
    <td>
        <div class="d-flex align-items-center">
            <img src="{{ '/images_users/' ~ user.imagesU }}" 
                 class="rounded-circle me-2" 
                 alt="{{ user.nomU }}"
                 style="width: 40px; height: 40px; object-fit: cover;"
                 onerror="handleImageError(this)">
            <div>
                <h6 class="mb-0">{{ user.nomU }}</h6>
                <small class="text-muted">{{ user.emailU }}</small>
            </div>
        </div>
    </td>
    <td>{{ user.roleU }}</td>
    <td>{{ user.telephoneU }}</td>
    <td>
        <span class="badge bg-{{ user.statusU == 'active' ? 'success' : 'danger' }}">
            {{ user.statusU }}
        </span>
    </td>
    <td>
        <div class="d-flex gap-2">
            <a href="{{ path('app_user_edit', {'id': user.id}) }}" class="btn btn-sm btn-primary">
                <i class="fas fa-edit"></i>
            </a>
            <form action="{{ path('app_user_delete', {'id': user.id}) }}" method="post" class="d-inline">
                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ user.id) }}">
                <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure you want to delete this user?')">
                    <i class="fas fa-trash"></i>
                </button>
            </form>
        </div>
    </td>
</tr>
{% endfor %} 